{"version":3,"file":"js/55.b3d5b2cf.js","mappings":"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","sources":["webpack://champation-management-system/./src/views/SportMeetings.vue","webpack://champation-management-system/src/views/SportMeetings.vue","webpack://champation-management-system/./src/views/SportMeetings.vue?5e74","webpack://champation-management-system/./src/views/SportMeetings.vue?558e","webpack://champation-management-system/./src/components/filter/FilterBar.vue","webpack://champation-management-system/src/components/filter/FilterBar.vue","webpack://champation-management-system/./src/components/filter/FilterBar.vue?b0f3","webpack://champation-management-system/./src/components/filter/FilterBar.vue?4781"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"sport-meetings\"},[_c('div',{staticClass:\"content-wrapper\"},[_c('div',{staticClass:\"action-bar\"},[_c('div',{staticClass:\"filter-section\"},[_c('filter-bar',{attrs:{\"options\":_vm.filterOptions},on:{\"change\":_vm.handleFilterChange},model:{value:(_vm.filter),callback:function ($$v) {_vm.filter=$$v},expression:\"filter\"}})],1),(_vm.isEditMode)?_c('div',{staticClass:\"right\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.createMeeting}},[_vm._v(\"创建我的运动会\")])],1):_vm._e()]),_c('div',{staticClass:\"meetings-grid\"},_vm._l((_vm.filteredMeetings),function(meeting){return _c('div',{key:meeting.smId,staticClass:\"meeting-card\",on:{\"click\":function($event){return _vm.goToDetail(meeting)}}},[_c('div',{staticClass:\"meeting-cover\"},[_c('img',{attrs:{\"src\":meeting.img || _vm.defaultImage,\"alt\":meeting.name}}),_c('div',{staticClass:\"meeting-status\",class:_vm.getStatusClass(meeting.status)},[_vm._v(\" \"+_vm._s(_vm.getStatusText(meeting.status))+\" \")])]),_c('div',{staticClass:\"meeting-info\"},[_c('h3',[_vm._v(_vm._s(meeting.name))]),_c('div',{staticClass:\"meeting-stats\"},[_c('el-tag',{attrs:{\"size\":\"small\"}},[_vm._v(_vm._s(meeting.schoolCount)+\"个学校\")]),_c('el-tag',{attrs:{\"size\":\"small\",\"type\":\"success\"}},[_vm._v(_vm._s(meeting.sportCount)+\"个项目\")]),_c('el-tag',{attrs:{\"size\":\"small\",\"type\":\"warning\"}},[_vm._v(_vm._s(meeting.playerCount)+\"名运动员\")])],1)])])}),0)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"sport-meetings\">\n        <div class=\"content-wrapper\">\n            <div class=\"action-bar\">\n                <div class=\"filter-section\">\n                    <filter-bar v-model=\"filter\" :options=\"filterOptions\" @change=\"handleFilterChange\" />\n                </div>\n                <div class=\"right\" v-if=\"isEditMode\">\n                    <el-button type=\"primary\" icon=\"el-icon-plus\" @click=\"createMeeting\">创建我的运动会</el-button>\n                </div>\n            </div>\n\n            <div class=\"meetings-grid\">\n                <div v-for=\"meeting in filteredMeetings\" :key=\"meeting.smId\" class=\"meeting-card\"\n                    @click=\"goToDetail(meeting)\">\n                    <div class=\"meeting-cover\">\n                        <img :src=\"meeting.img || defaultImage\" :alt=\"meeting.name\">\n                        <div class=\"meeting-status\" :class=\"getStatusClass(meeting.status)\">\n                            {{ getStatusText(meeting.status) }}\n                        </div>\n                    </div>\n                    <div class=\"meeting-info\">\n                        <h3>{{ meeting.name }}</h3>\n                        <div class=\"meeting-stats\">\n                            <el-tag size=\"small\">{{ meeting.schoolCount }}个学校</el-tag>\n                            <el-tag size=\"small\" type=\"success\">{{ meeting.sportCount }}个项目</el-tag>\n                            <el-tag size=\"small\" type=\"warning\">{{ meeting.playerCount }}名运动员</el-tag>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport request from '@/utils/request'\nimport FilterBar from '@/components/filter/FilterBar.vue'\n\nexport default {\n    name: 'SportMeetings',\n    components: {\n        FilterBar\n    },\n    data() {\n        return {\n            isEditMode: true,\n            filter: 0, // 默认显示全部\n            meetings: [],\n            defaultImage: 'default-meeting.jpg',\n            filterOptions: [\n                { value: 0, label: '全部' },\n                { value: 1, label: '报名中' },\n                { value: 2, label: '进行中' },\n                { value: 3, label: '已结束' }\n            ]\n        }\n    },\n    computed: {\n        filteredMeetings() {\n            if (this.filter === 0) {\n                return this.meetings;\n            }\n            return this.meetings.filter(m => m.status === this.filter)\n        }\n    },\n    methods: {\n        getStatusClass(status) {\n            return {\n                'status-ended': status === 3,\n                'status-ongoing': status === 2,\n                'status-enrolling': status === 1\n            }\n        },\n        getStatusText(status) {\n            const texts = {\n                1: '报名中',\n                2: '进行中',\n                3: '已结束'\n            }\n            return texts[status] || '未知状态'\n        },\n        goToDetail(meeting) {\n            this.$router.push({\n                name: 'SportMeetingDetail',\n                params: {\n                    id: meeting.smId\n                },\n                props: {\n                    fromList: true,\n                    initialData: meeting\n                }\n            })\n        },\n        async fetchMeetings() {\n            try {\n                const res = await request({\n                    url: '/getSportMeetings',\n                    method: 'get'\n                })\n                if (res.code === 1) {\n                    this.meetings = res.data\n                }\n            } catch (error) {\n                console.error('获取运动会列表失败:', error)\n                this.$message.error('获取运动会列表失败')\n            }\n        },\n        createMeeting() {\n            this.$router.push('/create-meeting')\n        },\n        handleFilterChange(newFilter) {\n            this.filter = newFilter;\n        }\n    },\n    mounted() {\n        this.fetchMeetings()\n        // localStorage.getItem(\"userInfo\")||{\"userType\":[1]}.userType.includes(5)?this.isEditMode=true:this.isEditMode=false\n    }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.sport-meetings {\n    padding: 20px;\n\n    .content-wrapper {\n        max-width: 1200px;\n        margin: 0 auto;\n    }\n\n    .action-bar {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        margin-bottom: 20px;\n        gap: 16px;\n\n        .filter-section {\n            flex: 1;\n            text-align: left; // 确保左对齐\n        }\n\n        .right {\n            flex-shrink: 0;\n        }\n\n        @media (max-width: 768px) {\n            flex-direction: column;\n            gap: 12px;\n            // padding: 0 16px;\n            // width: 100%;\n\n            .filter-section {\n                width: 100%;\n            }\n\n            .right {\n                width: 100%;\n\n                .el-button {\n                    width: 100%;\n                }\n            }\n        }\n    }\n\n    .meetings-grid {\n        display: grid;\n        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n        gap: 20px;\n\n        .meeting-card {\n            background: white;\n            border-radius: 8px;\n            overflow: hidden;\n            box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n            cursor: pointer;\n            transition: all 0.3s;\n\n            &:hover {\n                transform: translateY(-5px);\n                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\n            }\n\n            .meeting-cover {\n                position: relative;\n                height: 200px;\n\n                img {\n                    width: 100%;\n                    height: 100%;\n                    object-fit: cover;\n                }\n\n                .meeting-status {\n                    position: absolute;\n                    top: 10px;\n                    right: 10px;\n                    padding: 4px 8px;\n                    border-radius: 4px;\n                    color: white;\n                    font-size: 12px;\n\n                    &.status-ended {\n                        background: #909399;\n                    }\n\n                    &.status-ongoing {\n                        background: #67C23A;\n                    }\n\n                    &.status-enrolling {\n                        background: #409EFF;\n                    }\n                }\n            }\n\n            .meeting-info {\n                padding: 15px;\n\n                h3 {\n                    margin: 0 0 10px 0;\n                    font-size: 16px;\n                }\n\n                .meeting-stats {\n                    display: flex;\n                    gap: 8px;\n                    flex-wrap: wrap;\n                }\n            }\n        }\n    }\n}\n\n.time-slots {\n    .time-slot {\n        display: flex;\n        align-items: center;\n        margin-bottom: 10px;\n\n        .slot-label {\n            width: 50px;\n        }\n\n        .slot-separator {\n            margin: 0 10px;\n        }\n    }\n}\n\n.time-hint {\n    font-size: 12px;\n    color: #909399;\n    margin-top: 5px;\n}\n\n@media (max-width: 768px) {\n    .sport-meetings {\n        padding: 10px;\n\n        .content-wrapper {\n            padding: 0 10px;\n        }\n    }\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SportMeetings.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SportMeetings.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./SportMeetings.vue?vue&type=template&id=649651fb&scoped=true\"\nimport script from \"./SportMeetings.vue?vue&type=script&lang=js\"\nexport * from \"./SportMeetings.vue?vue&type=script&lang=js\"\nimport style0 from \"./SportMeetings.vue?vue&type=style&index=0&id=649651fb&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"649651fb\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"filter-bar\",class:{ 'mobile': _vm.isMobile }},[_c('el-radio-group',{attrs:{\"size\":\"medium\"},on:{\"change\":_vm.handleChange},model:{value:(_vm.localValue),callback:function ($$v) {_vm.localValue=$$v},expression:\"localValue\"}},_vm._l((_vm.options),function(option){return _c('el-radio-button',{key:option.value,attrs:{\"label\":option.value}},[_vm._v(\" \"+_vm._s(option.label)+\" \")])}),1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"filter-bar\" :class=\"{ 'mobile': isMobile }\">\n        <el-radio-group v-model=\"localValue\" size=\"medium\" @change=\"handleChange\">\n            <el-radio-button v-for=\"option in options\" :key=\"option.value\" :label=\"option.value\">\n                {{ option.label }}\n            </el-radio-button>\n        </el-radio-group>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: 'FilterBar',\n    props: {\n        value: {\n            type: [String, Number],\n            required: true\n        },\n        options: {\n            type: Array,\n            required: true\n        },\n        defaultValue: {\n            type: [String, Number],\n            default: null\n        }\n    },\n    data() {\n        return {\n            localValue: this.value,\n            isMobile: window.innerWidth <= 768\n        }\n    },\n    methods: {\n        handleChange(val) {\n            this.$emit('input', val)\n            this.$emit('change', val)\n        },\n        handleResize() {\n            this.isMobile = window.innerWidth <= 768\n        }\n    },\n    watch: {\n        value(val) {\n            this.localValue = val\n        }\n    },\n    mounted() {\n        window.addEventListener('resize', this.handleResize)\n    },\n    beforeDestroy() {\n        window.removeEventListener('resize', this.handleResize)\n    }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.filter-bar {\n    text-align: left; // 左对齐\n\n    .el-radio-group {\n        display: flex;\n        gap: 8px;\n    }\n\n    ::v-deep .el-radio-button {\n        &:first-child .el-radio-button__inner {\n            border-radius: 4px 0 0 4px;\n        }\n\n        &:last-child .el-radio-button__inner {\n            border-radius: 0 4px 4px 0;\n        }\n\n        .el-radio-button__inner {\n            padding: 8px 16px;\n            border: 1px solid #dcdfe6;\n            transition: all 0.3s;\n\n            &:hover {\n                color: #409EFF;\n            }\n        }\n\n        &.is-active .el-radio-button__inner {\n            background-color: #ecf5ff;\n            border-color: #409EFF;\n            color: #409EFF;\n            box-shadow: none;\n        }\n    }\n\n    &.mobile {\n        width: 100%;\n\n        .el-radio-group {\n            width: 100%;\n            display: flex;\n        }\n\n        ::v-deep .el-radio-button {\n            flex: 1;\n\n            .el-radio-button__inner {\n                width: 100%;\n                padding: 8px 0;\n                text-align: center;\n                white-space: nowrap;\n            }\n\n            // 移除相邻按钮的左边框\n            &:not(:first-child) .el-radio-button__inner {\n                border-left: 0;\n            }\n        }\n    }\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FilterBar.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FilterBar.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./FilterBar.vue?vue&type=template&id=4b6ea4f6&scoped=true\"\nimport script from \"./FilterBar.vue?vue&type=script&lang=js\"\nexport * from \"./FilterBar.vue?vue&type=script&lang=js\"\nimport style0 from \"./FilterBar.vue?vue&type=style&index=0&id=4b6ea4f6&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4b6ea4f6\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","filterOptions","on","handleFilterChange","model","value","filter","callback","$$v","expression","isEditMode","createMeeting","_v","_e","_l","filteredMeetings","meeting","key","smId","$event","goToDetail","img","defaultImage","name","class","getStatusClass","status","_s","getStatusText","schoolCount","sportCount","playerCount","staticRenderFns","components","FilterBar","data","meetings","label","computed","m","methods","texts","$router","push","params","id","props","fromList","initialData","fetchMeetings","res","request","url","method","code","error","console","$message","newFilter","mounted","component","isMobile","handleChange","localValue","options","option","type","String","Number","required","Array","defaultValue","default","window","innerWidth","val","$emit","handleResize","watch","addEventListener","beforeDestroy","removeEventListener"],"sourceRoot":""}