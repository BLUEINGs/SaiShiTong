"use strict";(self["webpackChunkchampation_management_system"]=self["webpackChunkchampation_management_system"]||[]).push([[804],{19:function(t,e,i){i.d(e,{A:function(){return c}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"base-input",class:{mobile:t.isMobile}},[e("input",t._b({attrs:{type:t.type,placeholder:t.isMobile?t.label:t.placeholder},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)}}},"input",t.$attrs,!1))])},a=[],n={name:"BaseInput",props:{label:String,value:[String,Number],type:{type:String,default:"text"},placeholder:String,showLabel:{type:Boolean,default:!1}},data(){return{id:`input-${Math.random().toString(36).substr(2,9)}`,isMobile:window.innerWidth<=768}},created(){window.addEventListener("resize",this.checkMobile)},destroyed(){window.removeEventListener("resize",this.checkMobile)},methods:{checkMobile(){this.isMobile=window.innerWidth<=768}}},r=n,o=i(1656),l=(0,o.A)(r,s,a,!1,null,"0840465b",null),c=l.exports},7051:function(t,e,i){i.d(e,{V:function(){return n},l:function(){return a}});var s=i(5471);const a=new s["default"],n={CLOSE_ALL_PICKERS:"close-all-pickers",PICKER_OPENED:"picker-opened"}},8517:function(t,e,i){i.d(e,{A:function(){return c}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"filter-bar",class:{mobile:t.isMobile}},[e("el-radio-group",{attrs:{size:"medium"},on:{change:t.handleChange},model:{value:t.localValue,callback:function(e){t.localValue=e},expression:"localValue"}},t._l(t.options,(function(i){return e("el-radio-button",{key:i.value,attrs:{label:i.value}},[t._v(" "+t._s(i.label)+" ")])})),1)],1)},a=[],n={name:"FilterBar",props:{value:{type:[String,Number],required:!0},options:{type:Array,required:!0},defaultValue:{type:[String,Number],default:null}},data(){return{localValue:this.value,isMobile:window.innerWidth<=768}},methods:{handleChange(t){this.$emit("input",t),this.$emit("change",t)},handleResize(){this.isMobile=window.innerWidth<=768}},watch:{value(t){this.localValue=t}},mounted(){window.addEventListener("resize",this.handleResize)},beforeDestroy(){window.removeEventListener("resize",this.handleResize)}},r=n,o=i(1656),l=(0,o.A)(r,s,a,!1,null,"4b6ea4f6",null),c=l.exports},9581:function(t,e,i){i.d(e,{A:function(){return m}});var s=function(){var t=this,e=t._self._c;return e("div",{ref:"container",staticClass:"datetime-input"},[e("div",{staticClass:"datetime-select",attrs:{tabindex:"0"},on:{click:t.handleFocus}},[e("input",{attrs:{readonly:"",placeholder:t.placeholder},domProps:{value:t.displayValue}}),e("i",{staticClass:"el-icon-date"})]),e("bottom-sheet",{style:{zIndex:1e4},attrs:{target:t.$refs.container},model:{value:t.showPicker,callback:function(e){t.showPicker=e},expression:"showPicker"}},[e("div",{staticClass:"datetime-picker-layout"},[e("div",{staticClass:"calendar-section"},[e("div",{staticClass:"calendar-header"},[e("button",{on:{click:function(e){return t.changeMonth(-1)}}},[e("i",{staticClass:"el-icon-arrow-left"})]),e("span",[t._v(t._s(t.currentYearMonth))]),e("button",{on:{click:function(e){return t.changeMonth(1)}}},[e("i",{staticClass:"el-icon-arrow-right"})])]),e("div",{staticClass:"weekdays"},t._l(t.weekDays,(function(i){return e("span",{key:i},[t._v(t._s(i))])})),0),e("div",{staticClass:"days-grid"},t._l(t.daysArray,(function(i,s){return e("div",{key:s,staticClass:"day-cell",class:t.getDayClass(i),on:{click:function(e){return t.selectDay(i)}}},[t._v(" "+t._s(i.date)+" ")])})),0)]),e("div",{staticClass:"picker-right-section"},[e("div",{staticClass:"time-section"},[e("div",{staticClass:"time-columns"},[e("div",{staticClass:"column hours"},t._l(24,(function(i){return e("div",{key:i,staticClass:"time-option",class:{active:t.selectedHour===i-1},on:{click:function(e){t.selectedHour=i-1}}},[t._v(" "+t._s(String(i-1).padStart(2,"0"))+" ")])})),0),e("div",{staticClass:"column minutes"},t._l(60,(function(i){return e("div",{key:i,staticClass:"time-option",class:{active:t.selectedMinute===i-1},on:{click:function(e){t.selectedMinute=i-1}}},[t._v(" "+t._s(String(i-1).padStart(2,"0"))+" ")])})),0)])]),e("div",{staticClass:"picker-footer"},[e("button",{staticClass:"btn cancel-btn",attrs:{type:"button"},on:{click:function(e){t.showPicker=!1}}},[t._v("取消")]),e("button",{staticClass:"btn now-btn",attrs:{type:"button"},on:{click:t.setToNow}},[t._v("此刻")]),e("button",{staticClass:"btn confirm-btn",attrs:{type:"button"},on:{click:t.confirmSelection}},[t._v("确定")])])])])])],1)},a=[],n=(i(4114),i(7051)),r=i(9838),o={name:"DateTimeInput",components:{BottomSheet:r.A},props:{label:String,value:[String,Number],placeholder:String,showLabel:{type:Boolean,default:!1}},data(){return{id:`datetime-${Math.random().toString(36).substr(2,9)}`,isMobile:window.innerWidth<=768,currentMonth:new Date,weekDays:["日","一","二","三","四","五","六"],mobileDate:"",showPicker:!1,selectedDate:null,selectedHour:0,selectedMinute:0,componentId:`datetime-${Date.now()}`,showTimeSelect:!1}},computed:{formattedValue(){if(!this.value)return"";const t=new Date(Number(this.value));return t.toISOString().slice(0,16)},currentYearMonth(){return new Intl.DateTimeFormat("zh-CN",{year:"numeric",month:"long"}).format(this.currentMonth)},daysArray(){const t=this.currentMonth.getFullYear(),e=this.currentMonth.getMonth(),i=new Date(t,e,1),s=new Date(t,e+1,0),a=[];for(let r=0;r<i.getDay();r++){const i=new Date(t,e,-r);a.unshift({date:i.getDate(),fullDate:i,isCurrentMonth:!1})}for(let r=1;r<=s.getDate();r++){const i=new Date(t,e,r);a.push({date:r,fullDate:i,isCurrentMonth:!0})}const n=42-a.length;for(let r=1;r<=n;r++){const i=new Date(t,e+1,r);a.push({date:r,fullDate:i,isCurrentMonth:!1})}return a},displayValue(){if(!this.selectedDate)return"";const t=new Date(this.selectedDate);return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")} ${String(this.selectedHour).padStart(2,"0")}:${String(this.selectedMinute).padStart(2,"0")}`},timeString(){return`${String(this.selectedHour).padStart(2,"0")}:${String(this.selectedMinute).padStart(2,"0")}`}},watch:{showPicker(t){this.isMobile&&(this.showPicker=t)},value:{immediate:!0,handler(t){if(!t)return;const e=new Date(Number(t));isNaN(e.getTime())||this.showPicker||(this.selectedDate=new Date(e.getFullYear(),e.getMonth(),e.getDate()),this.selectedHour=e.getHours(),this.selectedMinute=e.getMinutes())}}},methods:{handleDocumentClick(t){this.$el.contains(t.target)||(this.showPicker=!1)},handleInput(t){const e=new Date(t.target.value).getTime();this.$emit("input",e)},changeMonth(t){this.currentMonth=new Date(this.currentMonth.getFullYear(),this.currentMonth.getMonth()+t,1)},selectDay(t){this.selectedDate=t.fullDate},getDayClass(t){return{"other-month":!t.isCurrentMonth,selected:this.selectedDate&&t.fullDate.toDateString()===this.selectedDate.toDateString()}},handleFocus(){const t=!this.showPicker;this.showPicker=t,t&&(n.l.$emit(n.V.PICKER_OPENED,this.componentId),this.initSelectionFromValueOrNow())},confirmSelection(){if(!this.selectedDate)return;const t=new Date(this.selectedDate);t.setHours(this.selectedHour),t.setMinutes(this.selectedMinute),t.setSeconds(0),t.setMilliseconds(0),this.$emit("input",t.getTime()),this.showPicker=!1},setToNow(){const t=new Date;this.selectedDate=new Date(t.getFullYear(),t.getMonth(),t.getDate()),this.selectedHour=t.getHours(),this.selectedMinute=t.getMinutes();const e=new Date(this.selectedDate);e.setHours(this.selectedHour),e.setMinutes(this.selectedMinute),e.setSeconds(0),e.setMilliseconds(0),this.$emit("input",e.getTime())},initSelectionFromValueOrNow(){if(this.value){const t=new Date(Number(this.value));this.selectedDate=new Date(t.getFullYear(),t.getMonth(),t.getDate()),this.selectedHour=t.getHours(),this.selectedMinute=t.getMinutes()}else this.setToNow()}},created(){n.l.$on(n.V.PICKER_OPENED,(t=>{t!==this.componentId&&(this.showPicker=!1)}))},mounted(){document.addEventListener("click",this.handleDocumentClick)},beforeDestroy(){n.l.$off(n.V.PICKER_OPENED),document.removeEventListener("click",this.handleDocumentClick)}},l=o,c=i(1656),u=(0,c.A)(l,s,a,!1,null,null,null),m=u.exports},9804:function(t,e,i){i.r(e),i.d(e,{default:function(){return A}});i(8111),i(2489);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ai-web-page"},[e("div",{staticClass:"content-wrapper"},[e("div",{staticClass:"action-bar"},[t._m(0),e("div",{staticClass:"filter-section"},[e("filter-bar",{attrs:{options:t.filterOptions},on:{change:t.handleFilterChange},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})],1),e("div",{staticClass:"right"},[e("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.openAddForm}},[t._v("创建比赛")])],1)]),e("div",{staticClass:"ai-judge-container"},[t._l(t.filteredList,(function(t){return e("ai-card",{key:t.spId,attrs:{spId:t.spId,name:t.name,"start-time":t.startTime,"end-time":t.endTime,state:t.state}})})),0===t.filteredList.length?e("div",{staticClass:"no-data"},[e("i",{staticClass:"fas fa-basketball-ball"}),e("p",[t._v("暂无比赛数据")])]):t._e()],2)]),e("add-match-form",{attrs:{visible:t.showForm},on:{"update:visible":function(e){t.showForm=e},submit:t.handleSubmit,cancel:function(e){t.showForm=!1}}})],1)},a=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"left"},[e("div",{staticClass:"page-title"},[t._v(" 智能裁判"),e("sup",{staticClass:"beta"},[t._v("β")])])])}],n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card",class:{disabled:!t.isActive},attrs:{"data-id":this.spId},on:{click:t.handleCardClick}},[e("div",{staticClass:"match-id"},[t._v(" #"+t._s(t.idDisplay)+" ")]),t.isActive?e("div",{staticClass:"click-hint"},[e("i",{staticClass:"fas fa-hand-pointer"}),t._v(" 点击观看直播 ")]):t._e(),t._m(0),e("div",{staticClass:"card-content"},[e("h2",{staticClass:"match-name"},[t._v(t._s(t.name))]),e("div",{staticClass:"time-info"},[e("div",{staticClass:"time-row"},[t._m(1),e("div",{staticClass:"time-text"},[e("div",{staticClass:"time-label"},[t._v("开始时间")]),e("div",{staticClass:"time-value"},[t._v(t._s(t.formatDateTime(t.startTime)))])])]),e("div",{staticClass:"divider-line"}),e("div",{staticClass:"time-row"},[t._m(2),e("div",{staticClass:"time-text"},[e("div",{staticClass:"time-label"},[t._v("结束时间")]),e("div",{staticClass:"time-value"},[t._v(t._s(t.formatDateTime(t.endTime)))])])])])]),e("div",{staticClass:"status-indicator",class:"status-"+t.state},[t._v(" "+t._s(t.getStatusText(t.state))+" ")])])},r=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-decoration"},[e("div",{staticClass:"decoration-circle c1"}),e("div",{staticClass:"decoration-circle c2"}),e("div",{staticClass:"decoration-circle c3"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"time-icon"},[e("i",{staticClass:"el-icon-time"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"time-icon"},[e("i",{staticClass:"el-icon-timer"})])}],o=(i(4114),{name:"MatchCard",props:{spId:{type:[String,Number],required:!0},name:{type:String,default:"未命名比赛"},startTime:{type:String,default:""},endTime:{type:String,default:""},state:{type:[String,Number],default:0,validator:t=>[0,1,2,"0","1","2"].includes(t)}},computed:{idDisplay(){return this.spId},isActive(){return"1"===String(this.state)||1===this.state}},methods:{handleCardClick(){this.isActive&&this.$router.push(`/ai-judge/${this.spId}`)},formatDateTime(t){if(!t)return"未指定";const e=new Date(t);return e.toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).replace(/\//g,"-")},getStatusText(t){const e=String(t),i={0:"未开始",1:"进行中",2:"已完成"};return i[e]||"未知状态"}}}),l=o,c=i(1656),u=(0,c.A)(l,n,r,!1,null,"49938d1f",null),m=u.exports,d=i(8517),h=function(){var t=this,e=t._self._c;return e("responsive-dialog",{attrs:{visible:t.visible,title:"添加比赛信息",width:"650px"},on:{"update:visible":function(e){return t.$emit("update:visible",e)},close:function(e){return t.$emit("cancel")},confirm:t.submitForm,cancel:function(e){return t.$emit("cancel")}}},[e("div",{staticClass:"match-form-content"},[e("el-form",{ref:"formRef",attrs:{model:t.form,rules:t.rules,"label-width":"0px"}},[e("div",{staticClass:"title-item"},[e("label",[t._v("比赛名称")]),e("el-form-item",{attrs:{prop:"title"}},[e("base-input",{attrs:{placeholder:"例如：清华VS清北",label:"比赛名称"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1)],1),e("div",{staticClass:"title-item"},[e("label",[t._v("现场推流地址")]),e("el-form-item",{attrs:{prop:"rtmp"}},[e("base-input",{attrs:{placeholder:"例如：rtmp://localoost/live/example",label:"现场推流地址"},model:{value:t.form.rtmp,callback:function(e){t.$set(t.form,"rtmp",e)},expression:"form.rtmp"}})],1)],1),e("div",{staticClass:"input-group dual-col"},[e("div",{staticClass:"input-item"},[e("label",[t._v("队伍A名称")]),e("el-form-item",{attrs:{prop:"nameA"}},[e("base-input",{attrs:{placeholder:"例如：电信篮球队",label:"队伍A名称"},model:{value:t.form.nameA,callback:function(e){t.$set(t.form,"nameA",e)},expression:"form.nameA"}})],1)],1),e("div",{staticClass:"input-item"},[e("label",[t._v("队伍B名称")]),e("el-form-item",{attrs:{prop:"nameB"}},[e("base-input",{attrs:{placeholder:"例如：电气篮球队",label:"队伍B名称"},model:{value:t.form.nameB,callback:function(e){t.$set(t.form,"nameB",e)},expression:"form.nameB"}})],1)],1)]),e("div",{staticClass:"input-group dual-col color-group"},[e("div",{staticClass:"input-item"},[e("label",[t._v("A队球衣颜色")]),e("el-form-item",{attrs:{prop:"rgbA"}},[e("rgb-picker",{model:{value:t.form.rgbA,callback:function(e){t.$set(t.form,"rgbA",e)},expression:"form.rgbA"}})],1)],1),e("div",{staticClass:"input-item"},[e("label",[t._v("B队球衣颜色")]),e("el-form-item",{attrs:{prop:"rgbB"}},[e("rgb-picker",{model:{value:t.form.rgbB,callback:function(e){t.$set(t.form,"rgbB",e)},expression:"form.rgbB"}})],1)],1)]),t._l(4,(function(i){return e("div",{key:i,staticClass:"section-group"},[e("div",{staticClass:"section-header"},[t._v("第"+t._s(i)+"节")]),e("div",{staticClass:"input-group dual-col"},[e("div",{staticClass:"input-item"},[e("label",[t._v("开始时间")]),e("el-form-item",{attrs:{prop:`startTime${i}`}},[e("date-time-input",{attrs:{placeholder:`第${i}节开始时间`,label:`第${i}节开始时间`},model:{value:t.form[`startTime${i}`],callback:function(e){t.$set(t.form,`startTime${i}`,e)},expression:"form[`startTime${section}`]"}})],1)],1),e("div",{staticClass:"input-item"},[e("label",[t._v("结束时间")]),e("el-form-item",{attrs:{prop:`endTime${i}`}},[e("date-time-input",{attrs:{placeholder:`第${i}节结束时间`,label:`第${i}节结束时间`},model:{value:t.form[`endTime${i}`],callback:function(e){t.$set(t.form,`endTime${i}`,e)},expression:"form[`endTime${section}`]"}})],1)],1)])])}))],2)],1)])},p=[],b=i(6208),g=i(19),v=i(9581),f=function(){var t=this,e=t._self._c;return e("div",{ref:"root",staticClass:"rgb-picker"},[e("div",{staticClass:"preview",style:{background:t.rgbCss},on:{click:t.togglePicker}}),e("div",{staticClass:"inputs"},[e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.r,expression:"r",modifiers:{number:!0}}],staticClass:"num",attrs:{type:"number",min:"0",max:"255"},domProps:{value:t.r},on:{input:[function(e){e.target.composing||(t.r=t._n(e.target.value))},t.onRgbInput],blur:function(e){return t.$forceUpdate()}}}),e("span",{staticClass:"comma"},[t._v(",")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.g,expression:"g",modifiers:{number:!0}}],staticClass:"num",attrs:{type:"number",min:"0",max:"255"},domProps:{value:t.g},on:{input:[function(e){e.target.composing||(t.g=t._n(e.target.value))},t.onRgbInput],blur:function(e){return t.$forceUpdate()}}}),e("span",{staticClass:"comma"},[t._v(",")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.b,expression:"b",modifiers:{number:!0}}],staticClass:"num",attrs:{type:"number",min:"0",max:"255"},domProps:{value:t.b},on:{input:[function(e){e.target.composing||(t.b=t._n(e.target.value))},t.onRgbInput],blur:function(e){return t.$forceUpdate()}}})]),t.showPicker?e("div",{staticClass:"picker-popup"},[e("div",{staticClass:"preset-grid"},t._l(t.presets,(function(i){return e("div",{key:i.name,staticClass:"preset-item",style:{background:`rgb(${i.r}, ${i.g}, ${i.b})`},attrs:{title:i.name},on:{click:function(e){return t.applyPreset(i)}}})})),0),e("div",{staticClass:"slider-row"},[e("label",[t._v("R")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.tempR,expression:"tempR",modifiers:{number:!0}}],style:{background:t.sliderBg("r")},attrs:{type:"range",min:"0",max:"255"},domProps:{value:t.tempR},on:{input:t.onTempChange,__r:function(e){t.tempR=t._n(e.target.value)},blur:function(e){return t.$forceUpdate()}}}),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.tempR,expression:"tempR",modifiers:{number:!0}}],staticClass:"num small",attrs:{type:"number",min:"0",max:"255"},domProps:{value:t.tempR},on:{input:[function(e){e.target.composing||(t.tempR=t._n(e.target.value))},t.onTempChange],blur:function(e){return t.$forceUpdate()}}})]),e("div",{staticClass:"slider-row"},[e("label",[t._v("G")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.tempG,expression:"tempG",modifiers:{number:!0}}],style:{background:t.sliderBg("g")},attrs:{type:"range",min:"0",max:"255"},domProps:{value:t.tempG},on:{input:t.onTempChange,__r:function(e){t.tempG=t._n(e.target.value)},blur:function(e){return t.$forceUpdate()}}}),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.tempG,expression:"tempG",modifiers:{number:!0}}],staticClass:"num small",attrs:{type:"number",min:"0",max:"255"},domProps:{value:t.tempG},on:{input:[function(e){e.target.composing||(t.tempG=t._n(e.target.value))},t.onTempChange],blur:function(e){return t.$forceUpdate()}}})]),e("div",{staticClass:"slider-row"},[e("label",[t._v("B")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.tempB,expression:"tempB",modifiers:{number:!0}}],style:{background:t.sliderBg("b")},attrs:{type:"range",min:"0",max:"255"},domProps:{value:t.tempB},on:{input:t.onTempChange,__r:function(e){t.tempB=t._n(e.target.value)},blur:function(e){return t.$forceUpdate()}}}),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.tempB,expression:"tempB",modifiers:{number:!0}}],staticClass:"num small",attrs:{type:"number",min:"0",max:"255"},domProps:{value:t.tempB},on:{input:[function(e){e.target.composing||(t.tempB=t._n(e.target.value))},t.onTempChange],blur:function(e){return t.$forceUpdate()}}})]),e("div",{staticClass:"popup-actions"},[e("button",{staticClass:"el-button el-button--primary",on:{click:t.confirmPopup}},[t._v("确认")]),e("button",{staticClass:"el-button",on:{click:t.cancelPopup}},[t._v("取消")])])]):t._e()])},C=[],w={name:"RgbPicker",props:{value:{type:String,default:""}},data(){return{r:255,g:255,b:255,hex:"#ffffff",showPicker:!1,tempR:255,tempG:255,tempB:255,prevR:255,prevG:255,prevB:255}},created(){this.presets=[{name:"Lakers",r:255,g:209,b:0},{name:"Celtics",r:0,g:122,b:51},{name:"Bulls",r:196,g:30,b:58},{name:"Warriors",r:12,g:35,b:64},{name:"Knicks",r:0,g:107,b:182},{name:"Spurs",r:24,g:24,b:24}]},computed:{rgbCss(){return`rgb(${this.r}, ${this.g}, ${this.b})`}},watch:{value:{immediate:!0,handler(t){if(!t||"string"!==typeof t)return;const e=t.match(/^\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/);e&&(this.r=this.clamp(Number(e[1])),this.g=this.clamp(Number(e[2])),this.b=this.clamp(Number(e[3])),this.hex=this.rgbToHex(this.r,this.g,this.b),this.tempR=this.r,this.tempG=this.g,this.tempB=this.b,this.prevR=this.r,this.prevG=this.g,this.prevB=this.b)}}},mounted(){document.addEventListener("click",this.handleGlobalClick),this.value||this.$nextTick((()=>{this.emitValue()}))},beforeDestroy(){document.removeEventListener("click",this.handleGlobalClick)},methods:{clamp(t){return Math.max(0,Math.min(255,isNaN(t)?0:t))},padHex(t){return t.toString(16).padStart(2,"0")},rgbToHex(t,e,i){return`#${this.padHex(t)}${this.padHex(e)}${this.padHex(i)}`},hexToRgb(t){const e=t.replace("#",""),i=parseInt(e,16);return{r:i>>16&255,g:i>>8&255,b:255&i}},emitValue(){const t=`(${this.r},${this.g},${this.b})`;this.$emit("input",t),this.$emit("change",t)},onRgbInput(){this.r=this.clamp(this.r),this.g=this.clamp(this.g),this.b=this.clamp(this.b),this.hex=this.rgbToHex(this.r,this.g,this.b),this.emitValue()},onHexChange(){if(!this.hex)return;const{r:t,g:e,b:i}=this.hexToRgb(this.hex);this.r=t,this.g=e,this.b=i,this.emitValue()},togglePicker(){this.showPicker?this.cancelPopup():(this.prevR=this.r,this.prevG=this.g,this.prevB=this.b,this.tempR=this.r,this.tempG=this.g,this.tempB=this.b,this.showPicker=!0)},onTempChange(){this.r=this.clamp(this.tempR),this.g=this.clamp(this.tempG),this.b=this.clamp(this.tempB),this.hex=this.rgbToHex(this.r,this.g,this.b)},confirmPopup(){this.r=this.clamp(this.tempR),this.g=this.clamp(this.tempG),this.b=this.clamp(this.tempB),this.hex=this.rgbToHex(this.r,this.g,this.b),this.emitValue(),this.showPicker=!1},applyPreset(t){this.tempR=t.r,this.tempG=t.g,this.tempB=t.b,this.onTempChange(),this.r=this.clamp(this.tempR),this.g=this.clamp(this.tempG),this.b=this.clamp(this.tempB),this.hex=this.rgbToHex(this.r,this.g,this.b),this.emitValue()},sliderBg(t){return"r"===t?"linear-gradient(to right, rgba(0,0,0,0.08), rgb(255,0,0))":"g"===t?"linear-gradient(to right, rgba(0,0,0,0.08), rgb(0,128,0))":"b"===t?"linear-gradient(to right, rgba(0,0,0,0.08), rgb(0,0,255))":""},cancelPopup(){this.r=this.prevR,this.g=this.prevG,this.b=this.prevB,this.hex=this.rgbToHex(this.r,this.g,this.b),this.showPicker=!1,this.emitValue()},handleGlobalClick(t){if(!this.showPicker)return;const e=this.$refs.root;e&&(e.contains(t.target)||this.confirmPopup())}}},_=w,k=(0,c.A)(_,f,C,!1,null,"39e9b4d3",null),$=k.exports,y={components:{ResponsiveDialog:b.A,BaseInput:g.A,DateTimeInput:v.A,RgbPicker:$},props:{visible:{type:Boolean,default:!1}},data(){const t={};for(let e=1;e<=4;e++)t[`startTime${e}`]="",t[`endTime${e}`]="";return{form:{nameA:"",nameB:"",title:"",rtmp:"",rgbA:"",rgbB:"",...t}}},computed:{rules(){const t={required:!0,message:"此项为必填",trigger:"change"},e={title:[t],rtmp:[t],nameA:[t],nameB:[t],rgbA:[t],rgbB:[t]};for(let i=1;i<=4;i++)e[`startTime${i}`]=[t],e[`endTime${i}`]=[t];return e}},methods:{submitForm(){this.$refs.formRef?this.$refs.formRef.validate((t=>{t?this.$emit("submit",this.form):this.$message.warning("请完成所有必填项")})):this.$emit("submit",this.form)}},mounted(){for(let t=1;t<=3;t++)this.$watch((()=>this.form[`endTime${t}`]),(e=>{if(!e)return;const i=Number(e);if(isNaN(i))return;const s=`startTime${t+1}`,a=i+9e5,n=this.form[s];(!n||Number(n)<a)&&this.$set(this.form,s,a)}))}},x=y,D=(0,c.A)(x,h,p,!1,null,"216313fe",null),S=D.exports,M=i(5720),T={name:"AiWeb",components:{AiCard:m,FilterBar:d.A,AddMatchForm:S},data(){return{matchList:[],filter:0,filterOptions:[{value:0,label:"全部"},{value:1,label:"报名中"},{value:2,label:"进行中"},{value:3,label:"已结束"}],showForm:!1}},computed:{filteredList(){return 0===this.filter?this.matchList:this.matchList.filter((t=>t.state===this.filter))}},mounted(){this.fetchScoreData()},methods:{openAddForm(){this.showForm=!0},handleFilterChange(t){this.filter=t},async fetchScoreData(){try{const t=await(0,M.A)({url:"/saishitong/basketballEvent",method:"get"});this.handleResponse(t)}catch(t){console.error(`请求失败: ${t.message||"未知错误"}`),this.$message.error(t.message||"获取比赛列表失败")}},handleResponse(t){t&&1===t.code?t.data&&Array.isArray(t.data)?this.matchList=t.data:(this.matchList=[],this.$message.warning("获取到的比赛数据格式异常")):(this.matchList=[],this.$message.error(t&&t.message?t.message:"获取比赛列表失败"))},async handleSubmit(t){try{const e={...t};for(const t in e)t.includes("Time")&&e[t]&&(e[t]=new Date(e[t]).toISOString());const i=await(0,M.A)({method:"post",url:"/saishitong/basketballGame/information",data:e,headers:{"Content-Type":"application/x-www-form-urlencoded"}});console.log(i),i&&1==i.code?this.$message.success(`创建成功: ${i.message}`):this.$message.error(`操作失败: ${i.message}`),this.showForm=!1,this.fetchScoreData()}catch(e){console.error("提交失败:",e),this.$message.error(e.message||"请求失败")}}}},P=T,B=(0,c.A)(P,s,a,!1,null,"2bba4e1c",null),A=B.exports},9838:function(t,e,i){i.d(e,{A:function(){return c}});var s=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:t.isMobile?"slide-up":"fade"}},[t.value?e("div",{staticClass:"bottom-sheet-container",class:{mobile:t.isMobile}},[t.isMobile?e("div",{staticClass:"bottom-sheet-mask",on:{click:function(e){return t.$emit("input",!1)}}}):t._e(),e("div",{staticClass:"bottom-sheet-content",style:t.contentStyle},[t.isMobile?e("div",{staticClass:"bottom-sheet-header"},[e("div",{staticClass:"drag-handle"})]):t._e(),e("div",{staticClass:"bottom-sheet-body"},[t._t("default")],2)])]):t._e()])},a=[],n={name:"BottomSheet",props:{value:Boolean,target:HTMLElement},data(){return{isMobile:window.innerWidth<=768,contentStyle:{}}},watch:{value(t){t&&this.$nextTick(this.updatePosition)}},methods:{updatePosition(){if(!this.target)return;const t=this.target.getBoundingClientRect();if(this.isMobile)return void(this.contentStyle={});const e=370,i=window.innerHeight-t.bottom,s=t.top;let a;a=i<e&&s>e?Math.round(t.top-e-6):Math.round(t.bottom+6);let n=Math.round(t.left);const r=8,o=window.innerWidth-8;n<r&&(n=r),n>o&&(n=o),this.contentStyle={position:"fixed",left:`${n}px`,top:`${a}px`,marginTop:"0",transform:"none",zIndex:1e4}}},created(){window.addEventListener("resize",(()=>{this.isMobile=window.innerWidth<=768,this.updatePosition()}))}},r=n,o=i(1656),l=(0,o.A)(r,s,a,!1,null,"6279a14c",null),c=l.exports}}]);
//# sourceMappingURL=804.152fd6de.js.map