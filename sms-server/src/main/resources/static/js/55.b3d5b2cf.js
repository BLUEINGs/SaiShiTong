"use strict";(self["webpackChunkchampation_management_system"]=self["webpackChunkchampation_management_system"]||[]).push([[55],{6436:function(e,t,s){s.r(t),s.d(t,{default:function(){return d}});s(8111),s(2489);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"sport-meetings"},[t("div",{staticClass:"content-wrapper"},[t("div",{staticClass:"action-bar"},[t("div",{staticClass:"filter-section"},[t("filter-bar",{attrs:{options:e.filterOptions},on:{change:e.handleFilterChange},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})],1),e.isEditMode?t("div",{staticClass:"right"},[t("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.createMeeting}},[e._v("创建我的运动会")])],1):e._e()]),t("div",{staticClass:"meetings-grid"},e._l(e.filteredMeetings,(function(s){return t("div",{key:s.smId,staticClass:"meeting-card",on:{click:function(t){return e.goToDetail(s)}}},[t("div",{staticClass:"meeting-cover"},[t("img",{attrs:{src:s.img||e.defaultImage,alt:s.name}}),t("div",{staticClass:"meeting-status",class:e.getStatusClass(s.status)},[e._v(" "+e._s(e.getStatusText(s.status))+" ")])]),t("div",{staticClass:"meeting-info"},[t("h3",[e._v(e._s(s.name))]),t("div",{staticClass:"meeting-stats"},[t("el-tag",{attrs:{size:"small"}},[e._v(e._s(s.schoolCount)+"个学校")]),t("el-tag",{attrs:{size:"small",type:"success"}},[e._v(e._s(s.sportCount)+"个项目")]),t("el-tag",{attrs:{size:"small",type:"warning"}},[e._v(e._s(s.playerCount)+"名运动员")])],1)])])})),0)])])},a=[],n=(s(4114),s(5720)),l=s(8517),r={name:"SportMeetings",components:{FilterBar:l.A},data(){return{isEditMode:!0,filter:0,meetings:[],defaultImage:"default-meeting.jpg",filterOptions:[{value:0,label:"全部"},{value:1,label:"报名中"},{value:2,label:"进行中"},{value:3,label:"已结束"}]}},computed:{filteredMeetings(){return 0===this.filter?this.meetings:this.meetings.filter((e=>e.status===this.filter))}},methods:{getStatusClass(e){return{"status-ended":3===e,"status-ongoing":2===e,"status-enrolling":1===e}},getStatusText(e){const t={1:"报名中",2:"进行中",3:"已结束"};return t[e]||"未知状态"},goToDetail(e){this.$router.push({name:"SportMeetingDetail",params:{id:e.smId},props:{fromList:!0,initialData:e}})},async fetchMeetings(){try{const e=await(0,n.A)({url:"/getSportMeetings",method:"get"});1===e.code&&(this.meetings=e.data)}catch(e){console.error("获取运动会列表失败:",e),this.$message.error("获取运动会列表失败")}},createMeeting(){this.$router.push("/create-meeting")},handleFilterChange(e){this.filter=e}},mounted(){this.fetchMeetings()}},o=r,u=s(1656),c=(0,u.A)(o,i,a,!1,null,"649651fb",null),d=c.exports},8517:function(e,t,s){s.d(t,{A:function(){return u}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"filter-bar",class:{mobile:e.isMobile}},[t("el-radio-group",{attrs:{size:"medium"},on:{change:e.handleChange},model:{value:e.localValue,callback:function(t){e.localValue=t},expression:"localValue"}},e._l(e.options,(function(s){return t("el-radio-button",{key:s.value,attrs:{label:s.value}},[e._v(" "+e._s(s.label)+" ")])})),1)],1)},a=[],n={name:"FilterBar",props:{value:{type:[String,Number],required:!0},options:{type:Array,required:!0},defaultValue:{type:[String,Number],default:null}},data(){return{localValue:this.value,isMobile:window.innerWidth<=768}},methods:{handleChange(e){this.$emit("input",e),this.$emit("change",e)},handleResize(){this.isMobile=window.innerWidth<=768}},watch:{value(e){this.localValue=e}},mounted(){window.addEventListener("resize",this.handleResize)},beforeDestroy(){window.removeEventListener("resize",this.handleResize)}},l=n,r=s(1656),o=(0,r.A)(l,i,a,!1,null,"4b6ea4f6",null),u=o.exports}}]);
//# sourceMappingURL=55.b3d5b2cf.js.map